define([],function(){var i=0,a=function(){this.frameCallbacks=[],this.frameContexts=[],this.originalCallbacks=[],window.requestAnimationFrame(this.tick.bind(this))};return a.prototype={tick:function(a){for(var t=this.frameCallbacks,s=t.length-1;s>=0;s--)t[s].call(this.frameContexts[s],i,a);i++,window.requestAnimationFrame(this.tick.bind(this))},registerFrameCallback:function(i,a){var t=this.originalCallbacks.indexOf(i);t>=0?(this.frameCallbacks[t]=i,this.frameContexts[t]=a,this.originalCallbacks[t]=i):(this.frameCallbacks.push(i),this.frameContexts.push(a),this.originalCallbacks.push(i))},removeFrameCallback:function(i){var a=this.originalCallbacks.indexOf(i);a>=0&&(this.frameCallbacks.splice(a,1),this.originalCallbacks.splice(a,1),this.frameContexts.splice(a,1))}},a});