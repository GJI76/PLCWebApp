define(["backbone","rivets","views/item/WidgetMulti","text!./template.js","utils/SignalChainFunctions","utils/SignalChainClasses","jqueryknob"],function(e,t,i,n,o){return i.extend({ins:[],outs:[{title:"out",from:"in",to:"out"}],widgetEvents:{"mouseup .dragKnob":"imgMoved"},typeID:"Knob",categories:["UI"],className:"knob",template:_.template(n),initialize:function(e){i.prototype.initialize.call(this,e),this.model.set({title:"Knob",activeControlParameter:"left",controlParameters:[{name:"X",parameter:"left"},{name:"Y",parameter:"top"},{name:"opacity",parameter:"opacity"}],left:100,top:200,opacity:100}),this.signalChainFunctions.push(o.scale)},onRender:function(){i.prototype.onRender.call(this);var e=this;this.$(".detachedEl").css("position","fixed"),this.$(".detachedEl").draggable({cursor:"move",handle:".dragKnob"}),this.$(".dragKnob").css("cursor","move"),this.$(".dial").knob({fgColor:"#000000",bgColor:"#ffffff",inputColor:"#000000",angleOffset:-125,angleArc:250,width:80,height:62,font:"'Helvetica Neue', sans-serif",displayInput:!1,min:0,max:1023,change:function(t){e.model.set("in",parseInt(t))}}),this.$(".knob").knob({fgColor:"#000000",bgColor:"#ffffff",inputColor:"#000000",angleOffset:-125,angleArc:250,width:200,height:160,font:"'Helvetica Neue', sans-serif",displayInput:!1,min:0,max:1023,change:function(t){e.model.set("in",parseInt(t)),e.$(".dial").val(parseInt(t)).trigger("change")}}),t.binders.knob=function(e,t){e.value=t,$(e).val(parseInt(t)),$(e).trigger("change")}},imgMoved:function(){var e=this.$(".detachedEl").offset();this.model.set("left",e.left),this.model.set("top",e.top-5)}})});