define(["backbone","rivets","views/item/WidgetMulti","text!./template.js","jqueryknob"],function(t,e,i,o){return i.extend({typeID:"OSCOut",deviceMode:"out",categories:["Network"],className:"oscOut",template:_.template(o),ins:[{title:"input",to:"in"}],outs:[{title:"output",from:"in",to:"out"}],sources:[],initialize:function(t){i.prototype.initialize.call(this,t),this.model.set({title:"OSCOut",server:"127.0.0.1",port:57120,messageName:"/ntk/out/1",outputMapping:t.outputMapping,activeOut:!0}),this.model.on("change",this.processSignalChain,this),this.model.on("change",function(t){var e=t.changedAttributes();if(void 0!==e.server||void 0!==e.port||void 0!==e.messageName)for(var i=this.sources.length-1;i>=0;i--){var o=t.get("messageName")+":"+t.get("server")+":"+t.get("port");this.sources[i].destinationField=o,t.set("outputMapping",o)}},this)},onModelChange:function(){for(var t=this.sources.length-1;t>=0;t--)this.syncWithSource(this.sources[t].model)},onRender:function(){i.prototype.onRender.call(this),this.$(".dial").knob({fgColor:"#000000",bgColor:"#ffffff",inputColor:"#000000",angleOffset:-125,angleArc:250,width:80,height:62,font:"'Helvetica Neue', sans-serif",displayInput:!1,min:0,max:1023,change:function(t){this.model.set("in",parseFloat(t))}.bind(this)}),e.binders.knob=function(t,e){t.value=e,$(t).val(e),$(t).trigger("change")},window.setTimeout(function(){window.app.vent.trigger("Widget:hardwareSwitch",{deviceType:"OSC",mode:"out",port:this.model.get("outputMapping"),hasInput:!1})}.bind(this),200)}})});